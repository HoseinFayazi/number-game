<html>
	<head>
		<title>بازی خانه اعداد-حسین فیاضی</title>
		<meta charset="utf-8">
		<style>
		*{
			font-family:tahoma;
		}
		body {
			background-color:#0b092d;
		}
			table{
				margin:50px auto;
			}
			table#game {
				width:300px;
				height:300px;
			}
			.nums {
				text-align:center;
				width:100%;
				height:100%;
				background-color:orange;
				color:white;
				font-weight:bolder;
				display:flex;
				align-items:center;
				justify-content:center;
			}
			table#game td{
				border:2px solid gray;
				cursor:pointer;
			}
			.active {
				background-color:yellow;
			}
			#btnparent {
				text-align:center;
			}
			button {
				cursor:pointer;
				border-radius:5px;
				padding:3px 8px;
			}
			#start {
				padding:10px 17px;
				background-color:green;
				color:white;
				border-radius:9px;
				margin:10px auto;
				border:0;
				outline:0;
				font-size:22px;
			}
		</style>
	</head>
	
	<body>
		<div style="text-align:right;color:white"><h5><a href="http://hoseinfayazi.ir">حسین فیاضی</a></h5></div>
		<div align="center">
			<button onclick='location.reload()' id='start'>شروع مجدد</button>
		</div>
		
		<table id="game" border='2'>
			<tr>
				<td class='td' id="1">
					<span class='nums' id='n4'>4</span>
				</td>
				<td class='td' id="2">
					<span class='nums' id='n8'>8</span>
				</td>
				<td class='td' id="3">
					<span class='nums' id='n11'>11</span>
				</td>
				<td class='td' id="4">
					<span class='nums' id='n1'>1</span>
				</td>
			</tr>
			<tr>
				<td class='td' id="5">
					<span class='nums' id='n7'>7</span>
				</td>
				<td class='td' id="6">
					<span class='nums' id='n6'>6</span>
				</td>
				<td class='td' id="7">
					<span class='nums' id='n10'>10</span>
				</td>
				<td class='td' id="8">
					<span class='nums' id='n15'>15</span>
				</td>
			</tr>
			<tr>
				<td class='td' id="9">
					<span class='nums' id='n9'>9</span>
				</td>
				<td class='td' id="10">
					<span class='nums' id='n5'>5</span>
				</td>
				<td class='td' id="11">
					<span class='nums' id='n3'>3</span>
				</td>
				<td class='td' id="12">
					<span class='nums' id='n13'>13</span>
				</td>
			</tr>
			<tr>
				<td class='td' id="13">
					<span class='nums' id='n12'>12</span>
				</td>
				<td class='td' id="14">
					<span class='nums' id='n14'>14</span>
				</td>
				<td class='td' id="15">
					<span class='nums' id='n2'>2</span>
				</td>
				<td id='16'>
				</td>
			</tr>
		</table>
		
		
		<div id="btnparent">
			<table border="0">
				<tr>
					<td></td>
					<td><button id='btntop'>&#8679;</button></td>
					<td></td>
				</tr>
				<tr>
					<td><button id='btnleft'>&#8678;</button></td>
					<td style="background:gray;border-radius:5px;"></td>
					<td><button id='btnright'>&#8680;</button></td>
				</tr>
				<tr>
					<td></td>
					<td><button id='btnbottom'>&#8681;</button></td>
					<td></td>
				</tr>
			</table>
			
			
			
			
		</div>
		
		
		
		
		
		
		
		<script>
		
		
		
		
		
			var tds=document.getElementsByClassName('nums');
			for (let val of tds){
				val.addEventListener('click',function(event){
					for(let v of tds){
						v.classList.remove('active');
					}
					event.target.classList.add('active');
				});
			}
			
			var btntop=document.getElementById('btntop');
			var btnright=document.getElementById('btnright');
			var btnleft=document.getElementById('btnleft');
			var btnbottom=document.getElementById('btnbottom');
			
			btntop.addEventListener('click',function(event){
				let i=0;
				for (let val of tds){
					if(val.className=='nums active'){
						i++;
					}
				}
				if(i==0){
					alert('لطفا یک خانه از اعداد را انتخاب کنید');
				}else {
					let numspan=document.querySelector('span.active');
					let numtd=document.querySelector('span.active').parentElement;
					let numtdid=Number(numtd.id);
					let mtdid=numtdid-4;
					if(document.getElementById(mtdid).childElementCount==0){
						let el=numtd.removeChild(numspan);
						document.getElementById(mtdid).appendChild(el);
					}
				}
				check();
			});
			
			btnright.addEventListener('click',function(event){
				let i=0;
				for (let val of tds){
					if(val.className=='nums active'){
						i++;
					}
				}
				if(i==0){
					alert('لطفا یک خانه از اعداد را انتخاب کنید');
				}else {
					let numspan=document.querySelector('span.active');
					let numtd=document.querySelector('span.active').parentElement;
					let numtdid=Number(numtd.id);
					let mtdid=numtdid+1;
					if(document.getElementById(mtdid).childElementCount==0){
						let el=numtd.removeChild(numspan);
						document.getElementById(mtdid).appendChild(el);
					}
				}
				check();
			});
			
			btnleft.addEventListener('click',function(event){
				let i=0;
				for (let val of tds){
					if(val.className=='nums active'){
						i++;
					}
				}
				if(i==0){
					alert('لطفا یک خانه از اعداد را انتخاب کنید');
				}else {
					let numspan=document.querySelector('span.active');
					let numtd=document.querySelector('span.active').parentElement;
					let numtdid=Number(numtd.id);
					let mtdid=numtdid-1;
					if(document.getElementById(mtdid).childElementCount==0){
						let el=numtd.removeChild(numspan);
						document.getElementById(mtdid).appendChild(el);
					}
				}
				check();
			});
			
			btnbottom.addEventListener('click',function(event){
				let i=0;
				for (let val of tds){
					if(val.className=='nums active'){
						i++;
					}
				}
				if(i==0){
					alert('لطفا یک خانه از اعداد را انتخاب کنید');
				}else {
					let numspan=document.querySelector('span.active');
					let numtd=document.querySelector('span.active').parentElement;
					let numtdid=Number(numtd.id);
					let mtdid=numtdid+4;
					if(document.getElementById(mtdid).childElementCount==0){
						let el=numtd.removeChild(numspan);
						document.getElementById(mtdid).appendChild(el);
					}
				}
				check();
			});
			
			function check()
			{
			debugger;
				var tds=document.getElementsByClassName('td');
				var cont=0;
				for(let i=0 ; i< tds.length ; i++){
					if(tds[i].textContent==i+1){
						cont++;
					}
				}
				if(cont==15){
					alert('بازی تام شد شما بردید')
				}
				
			}
			
			
		</script>
		
		
	</body>
</html>